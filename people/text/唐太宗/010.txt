
武德九年（626年）八月太宗即位後，於同年十月立與長孫皇后所生年僅八歲的嫡長子李承乾為太子。

年幼的承乾因多病，頗為耽誤了讀書學習。成年後，承乾由於有腿疾，稍微不良於行，又因喜好突厥風尚，於東宮府中畜養若干胡族少年，以為玩伴，對太宗的要求、師長的勸勉充耳不聞，因而漸失太宗的寵愛。而其同母弟魏王李泰因才華聰敏，倍受太宗寵愛，冠絕諸王。按唐朝慣例皇子成年後都應去封地，不得長駐京畿，但太宗因偏愛李泰，特許「不之官」，並允許李泰居於宮中，父子相伴，令致李泰漸萌奪嫡之心。

貞觀十七年（643），太子承乾因失寵而和吏部尚書侯君集共謀刺殺太宗，事敗之後被廢。起初太宗有意立李泰為太子，但大臣褚遂良卻指出因太宗過分寵愛李泰是造成李承乾之禍的根源，不宜立之為太子。最後，在長孫無忌表態支持下，太宗立與長孫皇后所生的第七子晉王李治為太子，即後來的唐高宗。據傳史書所載，廢立太子一事對太宗的打擊甚大，太宗曾當著長孫無忌等重臣說：我三子（指李承乾、李泰、李祐）一弟（李元昌）都做出這種（圖謀帝位的）事來，我活著還有什麼意思！一度欲取佩刀自殺，幸為長孫無忌等上前抱持制止，奪下佩刀。

貞觀二十二年（648年）正月，唐太宗撰寫《帝範》十二篇頒賜給太子李治。翌年，太宗因長期服用丹藥，身體每況愈下，五月廿六己巳日（649年7月10日），太宗病逝於終南山上的翠微宮含風殿，享年五十二歲，在位二十三年，諡文皇帝，廟號太宗，葬於昭陵（位於今中國陝西省禮泉縣東北五十多裡山峰上）。
