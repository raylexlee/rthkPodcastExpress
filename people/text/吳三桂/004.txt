
明朝末年，民變四起，明朝地方官府無法肅清民變，盡量將土匪、叛民驅趕到鄰省，好向朝廷交差，於是土匪、叛民在各省流竄，演變成流寇，而且不斷壯大。崇禎四年，三十六股流寇在山西會合，「官兵東西奔擊，賊或降或死，旋滅旋熾」，局勢不可收拾，朝廷罷免剿匪無能的楊鶴，任命洪承疇為總督三邊總督，加兵部尚書、兼督河南、山、陝、川、湖軍務。洪承疇，福建泉州南安縣人，進士出身，以謀略見稱。上任之後，重用武將曹文詔、楊嘉謨等，分化賊黨，斬殺部分首領，《明史．練國事傳》稱：「總督洪承疇尤善調度，賊魁多殲，余盡走山西，關中稍靖」。於是崇禎帝命洪承疇專責關中軍務，任命盧象昇總理河北、河南、山、陝、川、湖軍務。盧象昇，南直隸宜興縣人，進士出身，《明史》記述：「象昇雖文士，善射，嫻將略，能治軍」，而且領兵作戰時，身先士卒，得將士愛戴。明朝官軍在洪承疇、盧象昇等統帥指揮下，削弱了流寇的聲勢，流寇分路向山西、陝西、河南、直隸、湖廣等省交界山區流竄。崇禎六、七年之間，高迎祥、李自成、張獻忠、老回回等三萬多人被官軍圍勦，被困陝南山區車廂峽中。高迎祥等向陝西四川總督陳奇瑜詐降，脫險之後，「既出棧道，遂不受約束，盡殺安撫官五十餘人，攻掠諸州縣，關中大震」。陳奇瑜被革職戍邊。

流寇在車廂峽逃脫之後，分為幾股，其中闖王高迎祥等十三家在河南鄭州滎陽縣聚集，然後向明太祖家鄉鳳陽進軍，焚燒明朝祖先的「皇陵」，明朝應天巡撫張國維率領南方官軍阻止流寇南下，高迎祥、李自成率眾退返陝西，但被洪承疇親自領兵追截。崇禎九年七月，高迎祥被官軍擒殺，李自成代領部眾，稱為闖王。另一方面，張獻忠與李自成不和，率領部眾走向湖廣。

崇禎九年，公元1636年農曆四月，正當明朝官軍逐漸收緊對流寇圍剿之際，後金天聰汗皇太極已經迫朝鮮投降，並且完全臣服蒙古察哈爾部，取得元朝的傳國玉璽，於是決定自稱皇帝，改國號「大清」，改年號「崇德」。隨後，皇太極派英武郡王阿濟格等，領兵取道蒙古，從獨石口、居庸關攻入長城內，進入明朝皇陵所在的昌平縣，明朝邊防守將張鳳翼、梁廷棟等不敢迎戰，按兵不動，任由清兵逼近北京，北京戒嚴。崇禎帝急詔洪承疇領兵勤王，保衛京師。八月，清兵撤走，崇禎帝任命洪承疇「移總督薊、遼軍務」，曹變蛟為東協總兵、王廷臣為遼東總兵、白廣恩為援剿總兵，與寧遠總兵祖大壽等防衛京城以東及山海關、寧遠城，防範清兵入侵。在這幾年間，吳三桂在舅父祖大壽軍中，不斷晉升，成為祖大壽手下的得力將領。
